language: objective-c
xcode_workspace: Heyzap/Heyzap.xcworkspace
xcode_scheme: Ads
xcode_sdk: iphonesimulator7.0

env:
    global:
        - SubliminalPassword=j4K7CK4oM49ZA27y532b
    matrix:
        - TEST_SCRIPT='runUnitTests.sh 7.0'
        - TEST_SCRIPT=runIntegrationTests.sh

before_install:
    - gem install xcpretty
    - gem install cocoapods --no-rdoc --no-ri --no-document --quiet
    - cd Heyzap && pod install && rake install --rakefile Pods/Subliminal/Rakefile DOCS=no && cd $TRAVIS_BUILD_DIR

script: sh $TEST_SCRIPT

notifications:
  hipchat:
    rooms:
      secure: Pmpj0iM7SY4XPx+6CUR4J3BB5s+UmsSIK848YpYSjuAvYsP0P5UfWcG2rWHDP7O2ueYsfHLejhOCeIL0ezb/emob+DzYRK0Msy1O03U2k3Md+htvi2hJEqlNaZzFguPpVlUrxyVELWD7xSre5r8HJsAggqmTvxXPl9CB7IR7hcs=
